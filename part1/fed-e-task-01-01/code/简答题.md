## 简答题

#### 谈谈你是如何理解 JS 异步编程的，EventLoop、消息队列都是做什么的，什么是宏任务，什么是微任务？

**答:**
JS的编程有同步和异步编程，同步编程就是脚本的任务一个接一个的执行，只有等上一个的任务执行完毕之后才会去执行下一个任务，
这样一来就会产生一个问题就是，假如上一个任务需要花费许多时间去执行，那么其余的任务就会一直等上个任务执行完，才会去执行，
这样子就会花费许多时间在等待上面，这对用户体验是不好的，而且这也是一种浪费。因此，就有了JS的异步编程，所谓异步，就是执行这个
任务时不需要等待当前异步任务执行完毕，可以直接执行下一个同步任务，直到所有的同步任务执行完了，才会去执行异步任务。异步任务，不会造成阻塞，可以提高
页面的渲染，优化用户体验。因此，我们可以把一些耗时的操作，放到异步任务去执行。

EventLoop 是事件循坏机制，而消息队列则是存放异步任务的地方。JS的执行是在执行栈里面执行的，JS开始执行的时候，会把同步任务一个接一个的放入到
执行栈执行，执行完一个任务，就把这个任务弹出执行栈，接着把下一个任务放入到执行栈执行，执行完毕弹出栈，周而复始。但是，如果遇到异步任务，
就不一样了，异步任务会被放到消息队列里面排队，等待执行，当所有的同步任务执行完毕之后。EventLoop就会从消息队列里面取出第一个异步任务，
然后把它推入到执行栈执行，当这个异步任务执行完毕之后，在弹出栈。则本轮事件循环结束，开启下一轮的事件循环，继续从消息队列中取出异步任务放入
到执行栈去执行。在JS执行期间，EventLoop会一直监听同步任务的执行。消息队列中的异步任务有两种，一种是宏任务队列，一种是微任务。当JS的同步
任务执行完毕之后，事件循环会先去查看微任务队列，如果微任务队列里有任务，会先执行微任务。如果本轮循环的微任务队列中存放着很多微任务，那么它会
执行完微任务队列中的任务。微任务的执行是先进先出。执行完毕，事件循环去查看宏任务队列，如果宏任务队列里有任务，则会取出第一个宏任务执行。本轮事件循环结束，开启
下一轮循环，查看微任务队列，如果有任务就执行，没有，就查看宏任务队列，有任务就取出当前第一个任务执行。知道执行完毕消息队列的任务。
宏任务：setTimeout、setInterval
微任务: promise、process.env.nextTick(node)、MutationObserver
